#include <sys/socket.h>#include <netinet/in.h>#include <arpa/inet.h>#include <stdio.h>#include <stdlib.h>#include <unistd.h>#include <errno.h>#include <string.h>#include <sys/types.h>#include <time.h>#include <netdb.h> #define PORT 4002#define IP_PROTOCOL_VAL 0static int error_code;void error_handler(char *msg){    perror(msg);    exit(EXIT_FAILURE);}void close_socket(int socket_id){}void socket_handler(int socket_id){	printf("Error handling!");}int main(){    int server_fd, new_socket, valread;    struct sockaddr_in address;    int opt = 1;    int addrlen = sizeof(address);    char buffer[1024] = {0};    char *hello = "Hello from server";    address.sin_family = AF_INET;    address.sin_addr.s_addr = INADDR_ANY;    address.sin_port = htons( PORT );   // Creating socket file descriptor    if ((server_fd = socket(AF_INET, SOCK_STREAM, 0)) == 0)	goto error_1;    if (setsockopt(server_fd, SOL_SOCKET, SO_REUSEADDR | SO_REUSEPORT,&opt, sizeof(opt)))	goto error_1;    if (bind(server_fd, (struct sockaddr *)&address,sizeof(address))<0)	goto error_1;    if (listen(server_fd, 20) < 0)	goto error_1;   if ((new_socket = accept(server_fd, (struct sockaddr *)&address, (socklen_t*)&addrlen))<0)	goto error_1;    valread = read( new_socket , buffer, 1024);    printf("%s\n",buffer );    send(new_socket , hello , strlen(hello) , 0 );    printf("Hello message sent\n");	error_1:		error_handler("error occured");	return EXIT_SUCCESS;}/*int main(){	//definitions of structures and variables to use.//	struct addrinfo address_info;	struct sockaddr_in ip4addr;	char server_buffer[512] = {0};	char *hello = "Hello from server"; 	int addrlen = sizeof(ip4addr);	ip4addr.sin_family = AF_INET;	ip4addr.sin_port = htons(3490); //port	inet_pton(AF_INET, INADDR_ANY, &(ip4addr.sin_addr)); // IPv4, check for 0 < x to see if valid. inet_ntop(AF_INET, &(sa.sin_addr), ip4, INET_ADDRSTRLEN); is the opposite way;	memset(ip4addr.sin_zero, '\0', sizeof(ip4addr.sin_zero));	int sockfd = socket(AF_INET, SOCK_STREAM, IP_PROTOCOL_VAL); //PF_INET, third argument: getprotobyname() -1 on error.  	bind(sockfd, (struct sockaddr*)&ip4addr, sizeof(ip4addr));	listen(sockfd, 3);	accept(sockfd, (struct sockaddr *)ip4addr, sizeof(ip4addr));	read( new_socket , server_buffer, 512);	printf("%s\n",server_buffer );	send(new_socket , hello , strlen(hello) , 0 );	printf("Hello message sent\n");	return EXIT_SUCCESS;}*///	inet_pton(AF_INET, "192.168.1.1", &(ip4addr.sin_addr)); // IPv4, check for 0 < x to see if valid. inet_ntop(AF_INET, &(sa.sin_addr), ip4, INET_ADDRSTRLEN); is the opposite way;